<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_40) on Thu Oct 01 12:52:40 EDT 2015 -->
<title>SocketProtocol</title>
<meta name="date" content="2015-10-01">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SocketProtocol";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/safs/sockets/ShutdownInvocationException.html" title="class in org.safs.sockets"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/safs/sockets/SocketProtocolListener.html" title="interface in org.safs.sockets"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/safs/sockets/SocketProtocol.html" target="_top">Frames</a></li>
<li><a href="SocketProtocol.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.safs.sockets</div>
<h2 title="Class SocketProtocol" class="title">Class SocketProtocol</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.safs.sockets.SocketProtocol</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../org/safs/sockets/android/DroidSocketProtocol.html" title="class in org.safs.sockets.android">DroidSocketProtocol</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">SocketProtocol</span>
extends java.lang.Object</pre>
<div class="block">This class implements a TCP protocol needed for Sockets control of remote processes 
 through TCP String messages character encoded in UTF-8.  
 <p>
 The class implements both the "local" controller side and the "remote" ServerSocket 
 side in order to keep the protocol implementation for both sides correct.
 <p>
 This class is not normally used directly, but thru subclasses of <a href="../../../org/safs/sockets/AbstractProtocolRunner.html" title="class in org.safs.sockets"><code>AbstractProtocolRunner</code></a> 
 which provides the necessary separate Threading required for the SocketProtocol.
 <p>
 Currently, this protocol expects remote TCP services to be running and accepting connections
 on port <a href="../../../org/safs/sockets/SocketProtocol.html#DEFAULT_REMOTE_PORT"><code>DEFAULT_REMOTE_PORT</code></a> at the first, if port <a href="../../../org/safs/sockets/SocketProtocol.html#DEFAULT_REMOTE_PORT"><code>DEFAULT_REMOTE_PORT</code></a> is no available, 
 remote TCP services will try to run on 2412, 2414 ... with augmentation of pace 2, the maximum possible
 port is <a href="../../../org/safs/sockets/SocketProtocol.html#MAX_SERVER_PORT"><code>MAX_SERVER_PORT</code></a>.
 By trying a broad range of ports, it can prevent conflicts with other system resources.  
 
 Currently, this protocol lets local controller to contact and attempt a connection to 
 those remote TCP services. As those TCP services can choose port dynamically, the local controller
 doesn't know which remote port to use for the connection. It will try to connect to port <a href="../../../org/safs/sockets/SocketProtocol.html#DEFAULT_REMOTE_PORT"><code>DEFAULT_REMOTE_PORT</code></a>,
 if fail it will try to connect to port 2412, 2414 ... with augmentation of pace 2, the maximum possible
 port is <a href="../../../org/safs/sockets/SocketProtocol.html#MAX_SERVER_PORT"><code>MAX_SERVER_PORT</code></a>.
 <p>
 
 If there is no need for the local controller's port to be specific--such as using port forwarding 
 to local emulators appearing as remote machines--then the local controller port really could be 
 any port at all. 
 
 <p>
 There is an initial handshake or verification that occurs between the local and remote SocketProtocol  
 instances to confirm the device port owners are both SocketProtocol implementations.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/AbstractProtocolRunner.html" title="class in org.safs.sockets"><code>(LeiWang)	SEP 29, 2012	Fix a connection problem for mobile-device connected by USB (portForwarding is used)</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#_debugEnabled">_debugEnabled</a></strong></code>
<div class="block">set to false to disable debug logging and improve performance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#controllerPort">controllerPort</a></strong></code>
<div class="block">port to use for a local controller Runner.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.net.Socket</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#controllerRunner">controllerRunner</a></strong></code>
<div class="block">local controller Socket connection.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#debugprefix">debugprefix</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#DEFAULT_CONTROLLER_PORT">DEFAULT_CONTROLLER_PORT</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#DEFAULT_REMOTE_PORT">DEFAULT_REMOTE_PORT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#DEFAULT_SERVER">DEFAULT_SERVER</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#ENV_KEY_REMOTE_PORT">ENV_KEY_REMOTE_PORT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#EOM">EOM</a></strong></code>
<div class="block">"[!_!]"
 Case-Insensitive End-Of-Message marker for all character messages exchanged between local and remote runners.<br>
 Normally, this is never changed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#MAX_SERVER_PORT">MAX_SERVER_PORT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#MSG_PROTOCOL_VERSION_QUERY">MSG_PROTOCOL_VERSION_QUERY</a></strong></code>
<div class="block">"PROTOCOLVERSION"
 Prompt and partial response for initial handshake between the local protocol runner and a remote 
 protocol runner.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#NEXT_SERVER_PORT_PACE">NEXT_SERVER_PORT_PACE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#remoteHostname">remoteHostname</a></strong></code>
<div class="block">Hostname to contact for a remote client Runner.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#remotePort">remotePort</a></strong></code>
<div class="block">port to contact for a remote client Runner.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#STATUS_SHUTDOWN_CONTROLLER">STATUS_SHUTDOWN_CONTROLLER</a></strong></code>
<div class="block">Indicates the Socket is being shutdown because from the controller side.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#STATUS_SHUTDOWN_NORMAL">STATUS_SHUTDOWN_NORMAL</a></strong></code>
<div class="block">Indicates the Socket is being shutdown normally.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#STATUS_SHUTDOWN_REMOTE_CLIENT">STATUS_SHUTDOWN_REMOTE_CLIENT</a></strong></code>
<div class="block">Indicates the Socket is being shutdown abnormally no 
 remote client connection will be possible.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#STATUS_SHUTDOWN_REMOTE_SERVICE">STATUS_SHUTDOWN_REMOTE_SERVICE</a></strong></code>
<div class="block">Indicates the Socket is being shutdown abnormally because no 
 remote service connection will be possible.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String[]</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#STATUS_STRINGS">STATUS_STRINGS</a></strong></code>
<div class="block">String representations of the STATUS_SHUTDOWN causes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#TAG">TAG</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#SocketProtocol()">SocketProtocol</a></strong>()</code>
<div class="block">Default no-op constructor using all defaults.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#SocketProtocol(org.safs.sockets.NamedListener)">SocketProtocol</a></strong>(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener)</code>
<div class="block">Constructor using all defaults while registering a NamedListener.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#SocketProtocol(org.safs.sockets.NamedListener, boolean)">SocketProtocol</a></strong>(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener,
              boolean&nbsp;local_mode)</code>
<div class="block">Constructor using all defaults while registering a NamedListener and 
 setting the local or remote mode of the instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#acceptProtocolVersion(int)">acceptProtocolVersion</a></strong>(int&nbsp;protocol)</code>
<div class="block">By default, this class only accepts connections from instances using the same 
 protocol version.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#addListener(org.safs.sockets.NamedListener)">addListener</a></strong>(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener)</code>
<div class="block">Register a DebugListener/ConnectionListener.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#bindToRemoteServer()">bindToRemoteServer</a></strong>()</code>
<div class="block">Create the Socket object according to server name and port.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#closeProtocolRunners()">closeProtocolRunners</a></strong>()</code>
<div class="block">Simply callse closeStreams</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#connectProtocolRunners()">connectProtocolRunners</a></strong>()</code>
<div class="block">Attempt to create appropriate local or remote socket connections and attempt to
 connect with the other side.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#debug(java.lang.String)">debug</a></strong>(java.lang.String&nbsp;text)</code>
<div class="block">Convenience routine for logging debug messages.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getClientConnectTimeout()">getClientConnectTimeout</a></strong>()</code>
<div class="block">Default is set at 60 seconds.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getConnectedProtocol()">getConnectedProtocol</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getControllerPort()">getControllerPort</a></strong>()</code>
<div class="block">The default port currently used for outgoing controller Socket connections is 2411.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getEOM()">getEOM</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getKeepAlive()">getKeepAlive</a></strong>()</code>
<div class="block">By default keepAlive is TRUE unless changed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getNextPort(int)">getNextPort</a></strong>(int&nbsp;prevPort)</code>
<div class="block">Try to augment the port number by <a href="../../../org/safs/sockets/SocketProtocol.html#NEXT_SERVER_PORT_PACE">2</a><br></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getRemoteHostname()">getRemoteHostname</a></strong>()</code>
<div class="block">The default remote hostname is/was typically the "localhost".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getRemotePort()">getRemotePort</a></strong>()</code>
<div class="block">The default port currently used for remote client connections--typically port 2410.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#getShutdownCauseDescription(int)">getShutdownCauseDescription</a></strong>(int&nbsp;cause)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#isConnected()">isConnected</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#isLocalMode()">isLocalMode</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#removeListener(org.safs.sockets.NamedListener)">removeListener</a></strong>(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#sendResponse(java.lang.String)">sendResponse</a></strong>(java.lang.String&nbsp;message)</code>
<div class="block">Send UTF-8 encoded message to the connected instance, if any.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setClientConnectTimeout(int)">setClientConnectTimeout</a></strong>(int&nbsp;clientConnectTimeout)</code>
<div class="block">Default is set at 60 seconds.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setControllerPort(int)">setControllerPort</a></strong>(int&nbsp;port)</code>
<div class="block">Provide an alternate port on which the local controller should open a Socket.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setEOM(java.lang.String)">setEOM</a></strong>(java.lang.String&nbsp;marker)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setKeepAlive(boolean)">setKeepAlive</a></strong>(boolean&nbsp;keepAlive)</code>
<div class="block">By default keepAlive is TRUE unless changed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setLocalMode(boolean)">setLocalMode</a></strong>(boolean&nbsp;local_mode)</code>
<div class="block">Set the mode of this instance.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setRemoteHostname(java.lang.String)">setRemoteHostname</a></strong>(java.lang.String&nbsp;hostname)</code>
<div class="block">The default remote hostname is/was typically the "localhost".</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#setRemotePort(int)">setRemotePort</a></strong>(int&nbsp;port)</code>
<div class="block">Provide an alternate port on which the remote client is accepting connections.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/safs/sockets/SocketProtocol.html#waitForInput(long)">waitForInput</a></strong>(long&nbsp;msTimeout)</code>
<div class="block">Listen for UTF-8 encoded content from the connected instance and return it to the caller if 
 it is deemed valid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG</h4>
<pre>public&nbsp;java.lang.String TAG</pre>
</li>
</ul>
<a name="DEFAULT_SERVER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_SERVER</h4>
<pre>public static final&nbsp;java.lang.String DEFAULT_SERVER</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.DEFAULT_SERVER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_REMOTE_PORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_REMOTE_PORT</h4>
<pre>public static final&nbsp;int DEFAULT_REMOTE_PORT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.DEFAULT_REMOTE_PORT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_CONTROLLER_PORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CONTROLLER_PORT</h4>
<pre>public static final&nbsp;int DEFAULT_CONTROLLER_PORT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.DEFAULT_CONTROLLER_PORT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MAX_SERVER_PORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MAX_SERVER_PORT</h4>
<pre>public static final&nbsp;int MAX_SERVER_PORT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.MAX_SERVER_PORT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="NEXT_SERVER_PORT_PACE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NEXT_SERVER_PORT_PACE</h4>
<pre>public static final&nbsp;int NEXT_SERVER_PORT_PACE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.NEXT_SERVER_PORT_PACE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="MSG_PROTOCOL_VERSION_QUERY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MSG_PROTOCOL_VERSION_QUERY</h4>
<pre>public static final&nbsp;java.lang.String MSG_PROTOCOL_VERSION_QUERY</pre>
<div class="block">"PROTOCOLVERSION"
 Prompt and partial response for initial handshake between the local protocol runner and a remote 
 protocol runner.  The local runner will send this prompt terminated with the EOM marker and 
 expects to receive a response in the format of "PROTOCOLVERSION=N"--an Integer representing the remote 
 runner's protocol version.  Currently, only "PROTOCOLVERSION=1" showing version 1 
 is supported. The response String is expected to be terminated with the EOM marker.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.MSG_PROTOCOL_VERSION_QUERY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ENV_KEY_REMOTE_PORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ENV_KEY_REMOTE_PORT</h4>
<pre>public static final&nbsp;java.lang.String ENV_KEY_REMOTE_PORT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.ENV_KEY_REMOTE_PORT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="STATUS_SHUTDOWN_NORMAL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STATUS_SHUTDOWN_NORMAL</h4>
<pre>public static final&nbsp;int STATUS_SHUTDOWN_NORMAL</pre>
<div class="block">Indicates the Socket is being shutdown normally.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#shutdownThread</code>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#shutdownCause"><code>shutdownCause</code></a>, 
<a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.STATUS_SHUTDOWN_NORMAL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="STATUS_SHUTDOWN_REMOTE_CLIENT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STATUS_SHUTDOWN_REMOTE_CLIENT</h4>
<pre>public static final&nbsp;int STATUS_SHUTDOWN_REMOTE_CLIENT</pre>
<div class="block">Indicates the Socket is being shutdown abnormally no 
 remote client connection will be possible.  All attempts have been exhausted.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#shutdownThread</code>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#shutdownCause"><code>shutdownCause</code></a>, 
<a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.STATUS_SHUTDOWN_REMOTE_CLIENT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="STATUS_SHUTDOWN_REMOTE_SERVICE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STATUS_SHUTDOWN_REMOTE_SERVICE</h4>
<pre>public static final&nbsp;int STATUS_SHUTDOWN_REMOTE_SERVICE</pre>
<div class="block">Indicates the Socket is being shutdown abnormally because no 
 remote service connection will be possible.  All attempts have been exhausted.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#shutdownThread</code>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#shutdownCause"><code>shutdownCause</code></a>, 
<a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.STATUS_SHUTDOWN_REMOTE_SERVICE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="STATUS_SHUTDOWN_CONTROLLER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STATUS_SHUTDOWN_CONTROLLER</h4>
<pre>public static final&nbsp;int STATUS_SHUTDOWN_CONTROLLER</pre>
<div class="block">Indicates the Socket is being shutdown because from the controller side.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><code>#shutdownThread</code>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#shutdownCause"><code>shutdownCause</code></a>, 
<a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.STATUS_SHUTDOWN_CONTROLLER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="STATUS_STRINGS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STATUS_STRINGS</h4>
<pre>protected static final&nbsp;java.lang.String[] STATUS_STRINGS</pre>
<div class="block">String representations of the STATUS_SHUTDOWN causes.</div>
</li>
</ul>
<a name="EOM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EOM</h4>
<pre>protected&nbsp;java.lang.String EOM</pre>
<div class="block">"[!_!]"
 Case-Insensitive End-Of-Message marker for all character messages exchanged between local and remote runners.<br>
 Normally, this is never changed.  The local and remote runner implementations--coded 
 together (or this same class)--share in an implied contract of what this marker shall be 
 since both ends of the protocol must use it.</div>
</li>
</ul>
<a name="remoteHostname">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remoteHostname</h4>
<pre>protected&nbsp;java.lang.String remoteHostname</pre>
<div class="block">Hostname to contact for a remote client Runner.</div>
</li>
</ul>
<a name="remotePort">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remotePort</h4>
<pre>protected&nbsp;int remotePort</pre>
<div class="block">port to contact for a remote client Runner.</div>
</li>
</ul>
<a name="controllerPort">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>controllerPort</h4>
<pre>protected&nbsp;int controllerPort</pre>
<div class="block">port to use for a local controller Runner.</div>
</li>
</ul>
<a name="controllerRunner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>controllerRunner</h4>
<pre>protected&nbsp;java.net.Socket controllerRunner</pre>
<div class="block">local controller Socket connection.</div>
</li>
</ul>
<a name="_debugEnabled">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>_debugEnabled</h4>
<pre>public&nbsp;boolean _debugEnabled</pre>
<div class="block">set to false to disable debug logging and improve performance.</div>
</li>
</ul>
<a name="debugprefix">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>debugprefix</h4>
<pre>protected static final&nbsp;java.lang.String debugprefix</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.safs.sockets.SocketProtocol.debugprefix">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="SocketProtocol()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SocketProtocol</h4>
<pre>public&nbsp;SocketProtocol()</pre>
<div class="block">Default no-op constructor using all defaults.
 The user should change any desired remote settings and add 
 any DebugListeners and ConnectionListerners prior to starting the
 full use of the instance.</div>
</li>
</ul>
<a name="SocketProtocol(org.safs.sockets.NamedListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SocketProtocol</h4>
<pre>public&nbsp;SocketProtocol(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener)</pre>
<div class="block">Constructor using all defaults while registering a NamedListener.
 The user should change any desired remote hostname/port settings prior to starting 
 the full use of the instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - NamedListener (DebugListener, ConnectionListener, etc...) to register with 
 the new instance.  Ideally, the listener should implement both DebugListener and 
 ConnectionListener interfaces.</dd></dl>
</li>
</ul>
<a name="SocketProtocol(org.safs.sockets.NamedListener, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>SocketProtocol</h4>
<pre>public&nbsp;SocketProtocol(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener,
              boolean&nbsp;local_mode)</pre>
<div class="block">Constructor using all defaults while registering a NamedListener and 
 setting the local or remote mode of the instance.
 <p>  
 By default, the class is setup to run in local controller mode.  
 Users would normally only call this constructor to make local_mode = false and 
 run in remote client mode.
 <p>
 The user should change any desired remote hostname/port settings prior to starting 
 the full use of the instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - NamedListener to register with the new instance.  Ideally, the 
 listener should implement both DebugListener and ConnectionListener interfaces.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setLocalMode(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLocalMode</h4>
<pre>public&nbsp;void&nbsp;setLocalMode(boolean&nbsp;local_mode)
                  throws java.lang.IllegalThreadStateException</pre>
<div class="block">Set the mode of this instance.  True for local controller mode and false for 
 remote client mode.  By default, the class is setup to run in local controller mode.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>local_mode</code> - true to run in local protocol controller mode (ex: port 2411). false 
 to run in remote protocal client mode (ex: port 2410).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalThreadStateException</code> - if a call attempts to set/change this while the 
 instance is already connected or running.</dd></dl>
</li>
</ul>
<a name="isLocalMode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isLocalMode</h4>
<pre>public&nbsp;boolean&nbsp;isLocalMode()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the Runner is set for local controller mode.  
 false for remote client mode.</dd></dl>
</li>
</ul>
<a name="addListener(org.safs.sockets.NamedListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre>public&nbsp;boolean&nbsp;addListener(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener)</pre>
<div class="block">Register a DebugListener/ConnectionListener.  If no DebugListener is registered then our 
 debug output, if enabled, will go to System.out.println.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - to register to receive notifications.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the listener was new and was successfully added</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#notifyConnection()"><code>notifyConnection()</code></a>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#notifyLocalShutdown(int)"><code>notifyLocalShutdown(int)</code></a>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#notifyRemoteShutdown(int)"><code>notifyRemoteShutdown(int)</code></a></dd></dl>
</li>
</ul>
<a name="removeListener(org.safs.sockets.NamedListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeListener</h4>
<pre>public&nbsp;boolean&nbsp;removeListener(<a href="../../../org/safs/sockets/NamedListener.html" title="interface in org.safs.sockets">NamedListener</a>&nbsp;listener)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>listener</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the listener was found and was successfully removed</dd></dl>
</li>
</ul>
<a name="debug(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>debug</h4>
<pre>protected&nbsp;void&nbsp;debug(java.lang.String&nbsp;text)</pre>
<div class="block">Convenience routine for logging debug messages.  Simply forwards the call to 
 notifyDebug(String).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>text</code> - </dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#notifyDebug(java.lang.String)"><code>notifyDebug(String)</code></a></dd></dl>
</li>
</ul>
<a name="getShutdownCauseDescription(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getShutdownCauseDescription</h4>
<pre>public static&nbsp;java.lang.String&nbsp;getShutdownCauseDescription(int&nbsp;cause)</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>cause</code> - -- int STATUS_SHUTDOWN_xxx cause to describe.</dd>
<dt><span class="strong">Returns:</span></dt><dd>A String description of the cause of the shutdown.  This is deduced from 
 the shutdownCause int being used as a String[] lookup in STATUS_STRINGS.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#STATUS_STRINGS"><code>STATUS_STRINGS</code></a></dd></dl>
</li>
</ul>
<a name="getEOM()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEOM</h4>
<pre>public&nbsp;java.lang.String&nbsp;getEOM()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current Case-insensitive End-Of-Message marker String ending all character messages in the  
 protocol.<br> 
 Normally, this is never changed.  The local and remote runner implementations--coded 
 together (or this same class)--share in an implied contract of what this marker shall be 
 since both ends of the protocol must use it.</dd></dl>
</li>
</ul>
<a name="setEOM(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEOM</h4>
<pre>public&nbsp;void&nbsp;setEOM(java.lang.String&nbsp;marker)
            throws java.lang.IllegalArgumentException</pre>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>Case-insensitive</code> - End-Of-Message marker String to use for terminating all String messages in the protocol.
 Normally, this is never changed.  The local and remote runner implementations--coded 
 together (or this same class)--share in an implied contract of what this marker shall be 
 since both ends of the protocol must use it.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - if the supplied marker argument is null, zero-length, or appears to be 
 case-sensitive when comparing calls for toUpperCase() and toLowerCase().</dd></dl>
</li>
</ul>
<a name="bindToRemoteServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bindToRemoteServer</h4>
<pre>protected&nbsp;void&nbsp;bindToRemoteServer()
                           throws java.io.IOException</pre>
<div class="block">Create the Socket object according to server name and port.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd></dl>
</li>
</ul>
<a name="getNextPort(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNextPort</h4>
<pre>public&nbsp;int&nbsp;getNextPort(int&nbsp;prevPort)</pre>
<div class="block">Try to augment the port number by <a href="../../../org/safs/sockets/SocketProtocol.html#NEXT_SERVER_PORT_PACE">2</a><br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>prevPort</code> - int, the previous port number</dd>
<dt><span class="strong">Returns:</span></dt><dd>int, the next port number</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>IllegalStateException,</code> - if the next port number exceeds the max port number.</dd></dl>
</li>
</ul>
<a name="isConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if we have a validated 2-way connection.</dd></dl>
</li>
</ul>
<a name="acceptProtocolVersion(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptProtocolVersion</h4>
<pre>public&nbsp;boolean&nbsp;acceptProtocolVersion(int&nbsp;protocol)</pre>
<div class="block">By default, this class only accepts connections from instances using the same 
 protocol version.  It is possible future subclasses will want to override 
 this behavior to accept other--typically older known protocol versions.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>protocol</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if our supported protocol version matches the requested version.</dd></dl>
</li>
</ul>
<a name="closeProtocolRunners()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>closeProtocolRunners</h4>
<pre>public&nbsp;void&nbsp;closeProtocolRunners()</pre>
<div class="block">Simply callse closeStreams</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#closeStreams()"><code>closeStreams()</code></a></dd></dl>
</li>
</ul>
<a name="waitForInput(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>waitForInput</h4>
<pre>public&nbsp;java.lang.String&nbsp;waitForInput(long&nbsp;msTimeout)
                              throws java.io.InvalidObjectException</pre>
<div class="block">Listen for UTF-8 encoded content from the connected instance and return it to the caller if 
 it is deemed valid.
 <p>
 String content is not considered valid unless/until the End-Of-Message marker is received. 
 Without receiving the EOM within the timeout period the routine will consider any received 
 content invalid and will subsequently return a null value upon timeout.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>msTimeout</code> - timeout in milliseconds</dd>
<dt><span class="strong">Returns:</span></dt><dd>received input or null if no input stream available or no valid input 
 received in timeout period.  The EOM will have already been stripped from the message.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.InvalidObjectException</code> - if we have no InputStream connected.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#EOM"><code>EOM</code></a></dd></dl>
</li>
</ul>
<a name="sendResponse(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendResponse</h4>
<pre>public&nbsp;boolean&nbsp;sendResponse(java.lang.String&nbsp;message)
                     throws java.io.InvalidObjectException</pre>
<div class="block">Send UTF-8 encoded message to the connected instance, if any.
 This routine automatically adds the End-Of-Message marker to the message before sending it.
 Thus, callers should not put any End-of_message marker on the message to be sent.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>message</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>true if we sent the message to the connected socket stream without error.
 This should NOT be considered any kind of confirmation that the remote TCP client received the message.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.InvalidObjectException</code> - if we have no OutputStream connected.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#EOM"><code>EOM</code></a></dd></dl>
</li>
</ul>
<a name="connectProtocolRunners()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connectProtocolRunners</h4>
<pre>public&nbsp;boolean&nbsp;connectProtocolRunners()</pre>
<div class="block">Attempt to create appropriate local or remote socket connections and attempt to
 connect with the other side.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>results of call to isConnected()</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../org/safs/sockets/SocketProtocol.html#isConnected()"><code>isConnected()</code></a>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#createRemoteServerSocket()"><code>createRemoteServerSocket()</code></a>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#acceptControllerConnection(int)"><code>acceptControllerConnection(int)</code></a>, 
<a href="../../../org/safs/sockets/SocketProtocol.html#createRemoteClientConnection(int)"><code>createRemoteClientConnection(int)</code></a></dd></dl>
</li>
</ul>
<a name="getKeepAlive()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeepAlive</h4>
<pre>public&nbsp;boolean&nbsp;getKeepAlive()</pre>
<div class="block">By default keepAlive is TRUE unless changed.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the keepAlive</dd></dl>
</li>
</ul>
<a name="setKeepAlive(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeepAlive</h4>
<pre>public&nbsp;void&nbsp;setKeepAlive(boolean&nbsp;keepAlive)</pre>
<div class="block">By default keepAlive is TRUE unless changed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>keepAlive</code> - the keepAlive to set</dd></dl>
</li>
</ul>
<a name="getRemoteHostname()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemoteHostname</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRemoteHostname()</pre>
<div class="block">The default remote hostname is/was typically the "localhost".  This is because the initial use 
 and implementation for this protocol was for talking with simulators and emulators 
 acting as remote devices on the local machine.  Other uses may actually use a remote 
 hostname that is NOT on the local machine.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the server hostname on which we expect remote clients to accept connections.</dd></dl>
</li>
</ul>
<a name="setRemoteHostname(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRemoteHostname</h4>
<pre>public&nbsp;void&nbsp;setRemoteHostname(java.lang.String&nbsp;hostname)</pre>
<div class="block">The default remote hostname is/was typically the "localhost".  This is because the initial use 
 and implementation for this protocol was for talking with simulators and emulators 
 acting as remote devices on the local machine.  Other uses may actually use a remote 
 hostname that is NOT on the local machine.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>the</code> - server hostname on which we expect remote clients to accept connections.</dd></dl>
</li>
</ul>
<a name="getRemotePort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRemotePort</h4>
<pre>public&nbsp;int&nbsp;getRemotePort()</pre>
<div class="block">The default port currently used for remote client connections--typically port 2410.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the server port on which we expect remote clients to accept connections.</dd></dl>
</li>
</ul>
<a name="setRemotePort(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRemotePort</h4>
<pre>public&nbsp;void&nbsp;setRemotePort(int&nbsp;port)</pre>
<div class="block">Provide an alternate port on which the remote client is accepting connections.
 The default port currently used for remote client connections is 2410.  In the future 
 a broader set of predefined port numbers needs to be established to avoid resource 
 contention.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>remote</code> - server port on which the remote client is accepting connections.</dd></dl>
</li>
</ul>
<a name="getControllerPort()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getControllerPort</h4>
<pre>public&nbsp;int&nbsp;getControllerPort()</pre>
<div class="block">The default port currently used for outgoing controller Socket connections is 2411. 
 <p>
 Typically Sockets can normally communicate on "any available port".  However the initial use 
 and implementation for this protocol was for talking with simulators and emulators 
 acting as remote devices on the local machine.  Thus, it was necessary to be able to 
 do port forwarding to specifically forward a known local controller port to the known 
 remote client port.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the port on which we expect local controller Socket to communicate.</dd></dl>
</li>
</ul>
<a name="setControllerPort(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setControllerPort</h4>
<pre>public&nbsp;void&nbsp;setControllerPort(int&nbsp;port)</pre>
<div class="block">Provide an alternate port on which the local controller should open a Socket.
 The default port currently used for local controller communications is 2411.
 Typically Sockets can normally communicate on "any available port".  The initial use 
 and implementation for this protocol was for talking with simulators and emulators 
 acting as remote devices on the local machine.  Thus, it was necessary to be able to 
 do port forwarding to specifically forward a known local controller port to the known 
 remote client port.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>the</code> - port on which the local controller Socket will attempt to communicate.</dd></dl>
</li>
</ul>
<a name="getConnectedProtocol()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConnectedProtocol</h4>
<pre>public&nbsp;int&nbsp;getConnectedProtocol()
                         throws java.io.InvalidObjectException</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>the protocol version for the remote connection.  Currently, only version 1 is 
 known or supported.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.io.InvalidObjectException</code> - if we have not successfully connected to a remote client.</dd></dl>
</li>
</ul>
<a name="getClientConnectTimeout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getClientConnectTimeout</h4>
<pre>public&nbsp;int&nbsp;getClientConnectTimeout()</pre>
<div class="block">Default is set at 60 seconds.  This value is typically used internally for the call to 
 <a href="../../../org/safs/sockets/SocketProtocol.html#createRemoteClientConnection(int)"><code>createRemoteClientConnection(int)</code></a></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the current clientConnectTimeout setting.</dd></dl>
</li>
</ul>
<a name="setClientConnectTimeout(int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setClientConnectTimeout</h4>
<pre>public&nbsp;void&nbsp;setClientConnectTimeout(int&nbsp;clientConnectTimeout)</pre>
<div class="block">Default is set at 60 seconds.  This value is typically used internally for the call to 
 <a href="../../../org/safs/sockets/SocketProtocol.html#createRemoteClientConnection(int)"><code>createRemoteClientConnection(int)</code></a></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>clientConnectTimeout</code> - in seconds</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/safs/sockets/ShutdownInvocationException.html" title="class in org.safs.sockets"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/safs/sockets/SocketProtocolListener.html" title="interface in org.safs.sockets"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/safs/sockets/SocketProtocol.html" target="_top">Frames</a></li>
<li><a href="SocketProtocol.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
