<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>STAFFileLogItem (SAFS API DOCUMENT)</title>
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="STAFFileLogItem (SAFS API DOCUMENT)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":6,"i2":10,"i3":10,"i4":6,"i5":6,"i6":10,"i7":6,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/STAFFileLogItem.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/safs/staf/service/logging/SLSSettings.html" title="class in org.safs.staf.service.logging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/safs/staf/service/logging/STAFLogException.html" title="class in org.safs.staf.service.logging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/safs/staf/service/logging/STAFFileLogItem.html" target="_top">Frames</a></li>
<li><a href="STAFFileLogItem.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.safs.staf.service.logging</div>
<h2 title="Class STAFFileLogItem" class="title">Class STAFFileLogItem</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/safs/logging/LogItem.html" title="class in org.safs.logging">org.safs.logging.LogItem</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/safs/logging/FileLogItem.html" title="class in org.safs.logging">org.safs.logging.FileLogItem</a></li>
<li>
<ul class="inheritance">
<li>org.safs.staf.service.logging.STAFFileLogItem</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/safs/staf/service/logging/AbstractSTAFTextLogItem.html" title="class in org.safs.staf.service.logging">AbstractSTAFTextLogItem</a>, <a href="../../../../../org/safs/staf/service/logging/AbstractSTAFXmlLogItem.html" title="class in org.safs.staf.service.logging">AbstractSTAFXmlLogItem</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="typeNameLabel">STAFFileLogItem</span>
extends <a href="../../../../../org/safs/logging/FileLogItem.html" title="class in org.safs.logging">FileLogItem</a></pre>
<div class="block">This class represents a file log implemented using STAF LOG service. It
 contains a STAF handle to interact with STAF.
 <p>
 The initialization of this log item clears existing STAF log with the same
 name.</div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>MAY 19 2009             (LW)    Modify the method getSTAFLogDirectory() to abstract.
                                                                        getSTAFLogDirectory() contains the STAF-version related code,
                                                                        realize them in subclass can make the code more independent of STAF-version.</dd>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Carl Nagle 02/24/05 changed use of machine to effectiveMachine to avoid "localhost"
          when finding STAF logs to export to SAFS logs., Carl Nagle 11/03/2006 modified to process mixed-mode UTF-8 strings.</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../org/safs/staf/service/ServiceDebugLog.html" title="class in org.safs.staf.service">ServiceDebugLog</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#debugLog">debugLog</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../../../org/safs/staf/embedded/HandleInterface.html" title="interface in org.safs.staf.embedded">HandleInterface</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#handle">handle</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#LINEFEED">LINEFEED</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#SAFSLOG_MAJOR_VER">SAFSLOG_MAJOR_VER</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#SAFSLOG_MINOR_VER">SAFSLOG_MINOR_VER</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#STAFVersion">STAFVersion</a></span></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields.inherited.from.class.org.safs.logging.LogItem">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.safs.logging.<a href="../../../../../org/safs/logging/LogItem.html" title="class in org.safs.logging">LogItem</a></h3>
<code><a href="../../../../../org/safs/logging/LogItem.html#closed">closed</a>, <a href="../../../../../org/safs/logging/LogItem.html#enabled">enabled</a>, <a href="../../../../../org/safs/logging/LogItem.html#level">level</a>, <a href="../../../../../org/safs/logging/LogItem.html#mode">mode</a>, <a href="../../../../../org/safs/logging/LogItem.html#name">name</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#STAFFileLogItem-long-java.lang.String-java.lang.String-">STAFFileLogItem</a></span>(long&nbsp;mode,
               java.lang.String&nbsp;parent,
               java.lang.String&nbsp;file)</code>
<div class="block">Creates a disabled <code>STAFFileLogItem</code> with default name (file
 name) and log level (<code>LOGLEVEL_INFO</code>).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#STAFFileLogItem-java.lang.String-long-boolean-java.lang.String-java.lang.String-">STAFFileLogItem</a></span>(java.lang.String&nbsp;name,
               long&nbsp;mode,
               boolean&nbsp;enabled,
               java.lang.String&nbsp;parent,
               java.lang.String&nbsp;file)</code>
<div class="block">Creates a <code>STAFFileLogItem</code> with the default log level
 (<code>LOGLEVEL_INFO</code>).</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#appendFinalLog-java.io.Writer-">appendFinalLog</a></span>(java.io.Writer&nbsp;out)</code>
<div class="block">Allow subclasses to append information to the final destination log.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#close--">close</a></span>()</code>
<div class="block">Close this log.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#exportSTAFLog-java.io.File-">exportSTAFLog</a></span>(java.io.File&nbsp;src)</code>
<div class="block">Exports the message fields of all log records of a STAF log to this log
 item's destination file.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#finalizeLogFile--">finalizeLogFile</a></span>()</code>
<div class="block">Finalizes the detination log file.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>protected abstract java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#getCloseMessages--">getCloseMessages</a></span>()</code>
<div class="block">Return the messages to write before the log is closed.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>protected abstract java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#getInitMessages--">getInitMessages</a></span>()</code>
<div class="block">Return the messages to write after the log is initialized.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#getMachineName--">getMachineName</a></span>()</code>
<div class="block">STAF version 2 will use {STAF/Config/EffectiveMachine} to make log.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>protected abstract java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#getSTAFLogDirectory--">getSTAFLogDirectory</a></span>()</code>
<div class="block">Returns the DIRECTORY setting of the STAF LOG service.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#getTestName--">getTestName</a></span>()</code>
<div class="block">Strip the suffix of the test file to get the test name.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#init--">init</a></span>()</code>
<div class="block">Initializes this log by clearing the STAF log with the same name, if any.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#prependFinalLog-java.io.Writer-">prependFinalLog</a></span>(java.io.Writer&nbsp;out)</code>
<div class="block">Allow subclasses to prepend information to the final destination log.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#readStringFromSTAFLog-java.io.DataInputStream-">readStringFromSTAFLog</a></span>(java.io.DataInputStream&nbsp;in)</code>
<div class="block">Read the next string from the STAF log.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#readUIntFromSTAFLog-java.io.DataInputStream-">readUIntFromSTAFLog</a></span>(java.io.DataInputStream&nbsp;in)</code>
<div class="block">Reads the next "unsigned integer" from the input stream.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#setDebugLog-org.safs.staf.service.ServiceDebugLog-">setDebugLog</a></span>(<a href="../../../../../org/safs/staf/service/ServiceDebugLog.html" title="class in org.safs.staf.service">ServiceDebugLog</a>&nbsp;debugLog)</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#setHandle-org.safs.staf.embedded.HandleInterface-">setHandle</a></span>(<a href="../../../../../org/safs/staf/embedded/HandleInterface.html" title="interface in org.safs.staf.embedded">HandleInterface</a>&nbsp;h)</code>
<div class="block">Set the STAF handle of this log item.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>protected com.ibm.staf.STAFResult</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#stafLogLog-java.lang.String-">stafLogLog</a></span>(java.lang.String&nbsp;message)</code>
<div class="block">Logs a message of Info level to the associated STAF log.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>protected com.ibm.staf.STAFResult</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#stafLogLog-java.lang.String-java.lang.String-">stafLogLog</a></span>(java.lang.String&nbsp;message,
          java.lang.String&nbsp;level)</code>
<div class="block">Logs a message to the STAF log associated with this log item.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>protected com.ibm.staf.STAFResult</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#stafLogRequest-java.lang.String-">stafLogRequest</a></span>(java.lang.String&nbsp;request)</code>
<div class="block">Submits a request to the instance of STAF LOG service loaded by the SAFS
 logging service.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#write-java.lang.String-">write</a></span>(java.lang.String&nbsp;msg)</code>
<div class="block">Write a message to the log.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#writeCloseMessages--">writeCloseMessages</a></span>()</code>
<div class="block">Write message to log before it is closed.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#writeInitMessages--">writeInitMessages</a></span>()</code>
<div class="block">Write messages to log after it is initialized.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.safs.logging.FileLogItem">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.safs.logging.<a href="../../../../../org/safs/logging/FileLogItem.html" title="class in org.safs.logging">FileLogItem</a></h3>
<code><a href="../../../../../org/safs/logging/FileLogItem.html#fileExists--">fileExists</a>, <a href="../../../../../org/safs/logging/FileLogItem.html#getAbsolutePath--">getAbsolutePath</a>, <a href="../../../../../org/safs/logging/FileLogItem.html#getFileSpec--">getFileSpec</a>, <a href="../../../../../org/safs/logging/FileLogItem.html#getParentDir--">getParentDir</a>, <a href="../../../../../org/safs/logging/FileLogItem.html#isFileSpecAbsolute--">isFileSpecAbsolute</a>, <a href="../../../../../org/safs/logging/FileLogItem.html#setParentDir-java.lang.String-">setParentDir</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.safs.logging.LogItem">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.safs.logging.<a href="../../../../../org/safs/logging/LogItem.html" title="class in org.safs.logging">LogItem</a></h3>
<code><a href="../../../../../org/safs/logging/LogItem.html#dateTime-int-">dateTime</a>, <a href="../../../../../org/safs/logging/LogItem.html#isClosed--">isClosed</a>, <a href="../../../../../org/safs/logging/LogItem.html#logMessage-java.lang.String-java.lang.String-int-">logMessage</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="SAFSLOG_MAJOR_VER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAFSLOG_MAJOR_VER</h4>
<pre>protected static final&nbsp;int SAFSLOG_MAJOR_VER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.safs.staf.service.logging.STAFFileLogItem.SAFSLOG_MAJOR_VER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="SAFSLOG_MINOR_VER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>SAFSLOG_MINOR_VER</h4>
<pre>protected static final&nbsp;int SAFSLOG_MINOR_VER</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.safs.staf.service.logging.STAFFileLogItem.SAFSLOG_MINOR_VER">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LINEFEED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LINEFEED</h4>
<pre>protected static final&nbsp;java.lang.String LINEFEED</pre>
</li>
</ul>
<a name="STAFVersion">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STAFVersion</h4>
<pre>protected&nbsp;java.lang.String STAFVersion</pre>
</li>
</ul>
<a name="handle">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handle</h4>
<pre>protected&nbsp;<a href="../../../../../org/safs/staf/embedded/HandleInterface.html" title="interface in org.safs.staf.embedded">HandleInterface</a> handle</pre>
</li>
</ul>
<a name="debugLog">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>debugLog</h4>
<pre>protected&nbsp;<a href="../../../../../org/safs/staf/service/ServiceDebugLog.html" title="class in org.safs.staf.service">ServiceDebugLog</a> debugLog</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="STAFFileLogItem-java.lang.String-long-boolean-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>STAFFileLogItem</h4>
<pre>public&nbsp;STAFFileLogItem(java.lang.String&nbsp;name,
                       long&nbsp;mode,
                       boolean&nbsp;enabled,
                       java.lang.String&nbsp;parent,
                       java.lang.String&nbsp;file)</pre>
<div class="block">Creates a <code>STAFFileLogItem</code> with the default log level
 (<code>LOGLEVEL_INFO</code>).
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>name</code> - the name of this log. If <code>null</code>, file name is
                                        used as the name.</dd>
<dd><code>mode</code> - the type of this log (<code>LOGMODE</code> constant
                                        defined by <code>AbstractLogFacility</code>).</dd>
<dd><code>enabled</code> - <code>true</code> to enable this log; <code>false</code>
                                        to disable.</dd>
<dd><code>parent</code> - the parent directory for this log.</dd>
<dd><code>file</code> - the file spec of this log.</dd>
</dl>
</li>
</ul>
<a name="STAFFileLogItem-long-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>STAFFileLogItem</h4>
<pre>public&nbsp;STAFFileLogItem(long&nbsp;mode,
                       java.lang.String&nbsp;parent,
                       java.lang.String&nbsp;file)</pre>
<div class="block">Creates a disabled <code>STAFFileLogItem</code> with default name (file
 name) and log level (<code>LOGLEVEL_INFO</code>).
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>mode</code> - the type of this log (<code>LOGMODE</code> constant
                                        defined by <code>AbstractLogFacility</code>).</dd>
<dd><code>parent</code> - the parent directory for this log.</dd>
<dd><code>file</code> - the file spec of this log.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setHandle-org.safs.staf.embedded.HandleInterface-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setHandle</h4>
<pre>public&nbsp;void&nbsp;setHandle(<a href="../../../../../org/safs/staf/embedded/HandleInterface.html" title="interface in org.safs.staf.embedded">HandleInterface</a>&nbsp;h)</pre>
<div class="block">Set the STAF handle of this log item.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>h</code> - the new STAF handle.</dd>
</dl>
</li>
</ul>
<a name="init--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>public&nbsp;void&nbsp;init()</pre>
<div class="block">Initializes this log by clearing the STAF log with the same name, if any.</div>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public abstract&nbsp;void&nbsp;close()
                    throws <a href="../../../../../org/safs/staf/service/logging/STAFLogException.html" title="class in org.safs.staf.service.logging">STAFLogException</a></pre>
<div class="block">Close this log.
 <p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../org/safs/logging/LogItem.html#close--">close</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../org/safs/logging/LogItem.html" title="class in org.safs.logging">LogItem</a></code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../../../../org/safs/staf/service/logging/STAFLogException.html" title="class in org.safs.staf.service.logging">STAFLogException</a></code> - if this method failed for any reason.</dd>
</dl>
</li>
</ul>
<a name="getInitMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInitMessages</h4>
<pre>protected abstract&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getInitMessages()</pre>
<div class="block">Return the messages to write after the log is initialized.</div>
</li>
</ul>
<a name="getCloseMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCloseMessages</h4>
<pre>protected abstract&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getCloseMessages()</pre>
<div class="block">Return the messages to write before the log is closed.</div>
</li>
</ul>
<a name="write-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>write</h4>
<pre>protected&nbsp;void&nbsp;write(java.lang.String&nbsp;msg)</pre>
<div class="block">Write a message to the log.</div>
</li>
</ul>
<a name="writeInitMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeInitMessages</h4>
<pre>protected&nbsp;void&nbsp;writeInitMessages()</pre>
<div class="block">Write messages to log after it is initialized. It should be called in method <a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#init--"><code>init()</code></a>.</div>
</li>
</ul>
<a name="writeCloseMessages--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>writeCloseMessages</h4>
<pre>protected&nbsp;void&nbsp;writeCloseMessages()</pre>
<div class="block">Write message to log before it is closed. It should be called in method <a href="../../../../../org/safs/staf/service/logging/STAFFileLogItem.html#close--"><code>close()</code></a>.</div>
</li>
</ul>
<a name="getTestName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTestName</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getTestName()</pre>
<div class="block">Strip the suffix of the test file to get the test name.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>String, the test's name.</dd>
</dl>
</li>
</ul>
<a name="stafLogRequest-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stafLogRequest</h4>
<pre>protected&nbsp;com.ibm.staf.STAFResult&nbsp;stafLogRequest(java.lang.String&nbsp;request)</pre>
<div class="block">Submits a request to the instance of STAF LOG service loaded by the SAFS
 logging service.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>request</code> - the service request to submit.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the result of the request.</dd>
</dl>
</li>
</ul>
<a name="stafLogLog-java.lang.String-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stafLogLog</h4>
<pre>protected&nbsp;com.ibm.staf.STAFResult&nbsp;stafLogLog(java.lang.String&nbsp;message,
                                             java.lang.String&nbsp;level)</pre>
<div class="block">Logs a message to the STAF log associated with this log item.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the MESSAGE option value of the LOG request.</dd>
<dd><code>level</code> - the LEVEL option value of the LOG request.</dd>
</dl>
</li>
</ul>
<a name="stafLogLog-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stafLogLog</h4>
<pre>protected&nbsp;com.ibm.staf.STAFResult&nbsp;stafLogLog(java.lang.String&nbsp;message)</pre>
<div class="block">Logs a message of Info level to the associated STAF log.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>message</code> - the MESSAGE option value of the LOG request.</dd>
</dl>
</li>
</ul>
<a name="finalizeLogFile--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>finalizeLogFile</h4>
<pre>protected&nbsp;void&nbsp;finalizeLogFile()
                        throws <a href="../../../../../org/safs/staf/service/logging/STAFLogException.html" title="class in org.safs.staf.service.logging">STAFLogException</a></pre>
<div class="block">Finalizes the detination log file.
 <p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>SAFSLogException</code> - if failed to finalize the log file.</dd>
<dd><code><a href="../../../../../org/safs/staf/service/logging/STAFLogException.html" title="class in org.safs.staf.service.logging">STAFLogException</a></code></dd>
</dl>
</li>
</ul>
<a name="getSTAFLogDirectory--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSTAFLogDirectory</h4>
<pre>protected abstract&nbsp;java.lang.String&nbsp;getSTAFLogDirectory()</pre>
<div class="block">Returns the DIRECTORY setting of the STAF LOG service.
 This method is defined as abstract. Because STAF 2 and STAF 3 return
 non-marshaled and marshaled result. While to un-marshal the result, we
 must import the STAF 3 library; To separate STAF 2 and STAF 3, this
 method is defined as abstract, and it will be implemented in STAFTextLogItem,
 STAFTextLogItem3, STAFXmlLogItem and STAFXmlLogItem3.
 <P></div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the Directory setting as returned by LIST SETTINGS request to
                        STAF LOG service.</dd>
</dl>
</li>
</ul>
<a name="prependFinalLog-java.io.Writer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>prependFinalLog</h4>
<pre>protected&nbsp;void&nbsp;prependFinalLog(java.io.Writer&nbsp;out)</pre>
<div class="block">Allow subclasses to prepend information to the final destination log.
 This implementation does nothing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - </dd>
</dl>
</li>
</ul>
<a name="appendFinalLog-java.io.Writer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>appendFinalLog</h4>
<pre>protected&nbsp;void&nbsp;appendFinalLog(java.io.Writer&nbsp;out)</pre>
<div class="block">Allow subclasses to append information to the final destination log.
 This implementation does nothing.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>out</code> - </dd>
</dl>
</li>
</ul>
<a name="exportSTAFLog-java.io.File-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exportSTAFLog</h4>
<pre>protected&nbsp;void&nbsp;exportSTAFLog(java.io.File&nbsp;src)
                      throws java.io.IOException</pre>
<div class="block">Exports the message fields of all log records of a STAF log to this log
 item's destination file.
 <p>
 This method parsed the STAF log file directly for the log messages and
 writes them to the destination file. In terms of performance and memory
 consumption, it is better than indirectly querying the log content via
 STAF LOG service.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>src</code> - contains full path to the source STAF log file.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if file related error occured.</dd>
</dl>
</li>
</ul>
<a name="readStringFromSTAFLog-java.io.DataInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readStringFromSTAFLog</h4>
<pre>protected&nbsp;java.lang.String&nbsp;readStringFromSTAFLog(java.io.DataInputStream&nbsp;in)
                                          throws java.io.IOException</pre>
<div class="block">Read the next string from the STAF log.
 <p>
 Strings are saved in the STAF log as byte data, with the number of bytes
 (saved as 4-byte long unsigned integer) preceeding the actual data.
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>in</code> - the STAF log input stream.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the string value read from the input stream.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="readUIntFromSTAFLog-java.io.DataInputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readUIntFromSTAFLog</h4>
<pre>protected&nbsp;long&nbsp;readUIntFromSTAFLog(java.io.DataInputStream&nbsp;in)
                            throws java.io.IOException</pre>
<div class="block">Reads the next "unsigned integer" from the input stream.
 <p>
 This method reads the next 4 bytes from the input stream, and convert
 them to a long (because java does not support unsigned data types), using
 the first byte as the highest byte and treating each byte as unsigned.
 For example:
 <pre>
 00 00 01 01 -> 257
 00 00 00 FF -> 255
 </pre>
 <p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>in</code> - the STAF log input stream.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <code>long</code> equal to the unsigned integer converted
                                from the bytes.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a name="setDebugLog-org.safs.staf.service.ServiceDebugLog-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDebugLog</h4>
<pre>protected&nbsp;void&nbsp;setDebugLog(<a href="../../../../../org/safs/staf/service/ServiceDebugLog.html" title="class in org.safs.staf.service">ServiceDebugLog</a>&nbsp;debugLog)</pre>
</li>
</ul>
<a name="getMachineName--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getMachineName</h4>
<pre>protected&nbsp;java.lang.String&nbsp;getMachineName()</pre>
<div class="block">STAF version 2 will use {STAF/Config/EffectiveMachine} to make log.
 While STAF version 3 use (STAF/Config/MachineNickName)</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>EffectiveMachine (for version 2) of MachineNickName (for version 3)</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/STAFFileLogItem.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../org/safs/staf/service/logging/SLSSettings.html" title="class in org.safs.staf.service.logging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../org/safs/staf/service/logging/STAFLogException.html" title="class in org.safs.staf.service.logging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/safs/staf/service/logging/STAFFileLogItem.html" target="_top">Frames</a></li>
<li><a href="STAFFileLogItem.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; SAS Institute. All Rights Reserved.</i></small></p>
</body>
</html>
